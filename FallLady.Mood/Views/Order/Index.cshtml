@{
    ViewBag.Title = "سبد خرید";
}

<div class="content-wrapper  js-content-wrapper">


    <section data-anim="fade" class="breadcrumbs is-in-view">
        <div class="container">
            <div class="row">
                <div class="col-auto">
                    <div class="breadcrumbs__content">

                        <div class="breadcrumbs__item ">
                            <a href="#">صفحه اصلی</a>
                        </div>

                        <div class="breadcrumbs__item ">
                            <a href="#">سایر</a>
                        </div>

                        <div class="breadcrumbs__item ">
                            <a href="#">فروشگاه</a>
                        </div>

                        <div class="breadcrumbs__item ">
                            <a href="#">سبد خرید</a>
                        </div>

                    </div>
                </div>
            </div>
        </div>
    </section>


    <section class="page-header -type-1">
        <div class="container">
            <div class="page-header__content">
                <div class="row justify-center text-center">
                    <div class="col-auto">
                        <div data-anim="slide-up delay-1" class="is-in-view">

                            <h1 class="page-header__title">سبد خرید</h1>

                        </div>

                        <div data-anim="slide-up delay-2" class="is-in-view">

                            <p class="page-header__text">ما ماموریت داریم دوره‌های جذاب و مدیریت‌شده را با قیمتی مناسب ارائه دهیم.</p>

                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>


    <section class="layout-pt-md layout-pb-lg">
        <div class="container order-list">
            <div class="row justify-end">
                <div class="table-responsive" style="border-radius:0.5rem">
                    <div id="toolbar">
                        <a href="javascript:void(0)" data-url="" class="button -sm -purple-1 text-white refresh"><span class="glyphicon glyphicon-refresh"></span> بروزرسانی</a>
                    </div>
                    <table class="table text-nowrap mb-0 align-middle"
                           id="CartTable"
                           data-toolbar="#toolbar"
                           data-toggle="table"
                           data-striped="true"
                           data-show-refresh="false"
                           data-id-field="orderId"
                           data-height="420"
                           data-click-to-select="true"
                           data-side-pagination="server"
                           data-pagination="true"
                           data-buttons-align="right"
                           data-single-select="false"
                           data-toolbar-align="right"
                           data-naseri-additional-params="window.orderAdditionalParams"
                           data-ajax="window.orderAjaxRequest"
                           data-response-handler="window.responseHandler"
                           data-url="@Url.Action("LoadOrders","Order")">
                        <thead>
                            <tr>
                                <th data-field="state" data-width="1" data-checkbox="true" data-halign="center" data-align="center"></th>
                                <th data-field="picturePath" data-width="1" data-formatter="window.showImgFormatter"></th>
                                <th data-field="title" data-width="1000">عنوان</th>
                                <th data-field="qty" data-width="1000">تعداد</th>
                                <th data-field="price" data-formatter="window.orderPriceFormatter" data-width="1000">قیمت واحد</th>
                                <th data-field="totalPrice" data-formatter="window.separateThreeDigit" data-width="1000">قیمت کل</th>
                            </tr>
                        </thead>
                    </table>
                </div>
                <div class="shopCart-footer px-16 mt-30">
                    <div class="row justify-between y-gap-30">
                        <div class="col-xl-5">
                            <form class="">
                                <input class="rounded-8 px-25 py-20" type="search" id="DiscountCode" placeholder="کد تخفیف">
                                <button type="button" class="button -sm -outline-dark-1 text-dark-1 apply-discount" style="display:inline" data-url="@Url.Action("GetValidDiscount","Order")">اعمال تخفیف</button>
                            </form>
                        </div>
                        <div class="col-auto">
                            <form class="">
                                <button type="button" class="button -sm -dark-1 text-white removeAllOrders" data-url="@Url.Action("RemoveAllOrders","Order")">خالی کردن سبد</button>
                            </form>
                        </div>
                    </div>
                </div>
                <div class="col-xl-4 col-lg-5 layout-pt-lg">
                    <div class="py-30 bg-light-4 rounded-8 border-light">
                        <h5 class="px-30 text-20 fw-500">
                            مبلغ صورت حساب
                        </h5>

                        <div class="d-flex justify-between px-30 item border-top-dark">
                            <div class="pt-15 fw-500 text-dark-1">مبلغ</div>
                            <div class="py-15 fw-500 text-dark-1"><strong><span id="TotalPrice">0</span></strong> تومان</div>
                        </div>

                        <div class="d-flex justify-between px-30 item border-top-dark">
                            <div class="pt-15 fw-500 text-dark-1">مالیات بر ارزش افزوده</div>
                            <div class="py-15 fw-500 text-dark-1"><strong><span id="TaxPrice">0</span></strong> تومان</div>
                        </div>

                        <div class="d-flex justify-between px-30 item border-top-dark">
                            <div class="pt-15 fw-500 text-dark-1">تخفیف</div>
                            <div class="py-15 fw-500 text-dark-1"><strong><span id="DiscountPrice">0</span></strong> تومان</div>
                        </div>

                        <hr />

                        <div class="d-flex justify-between px-30 item mt-25">
                            <div class="py-15 fw-500 text-dark-1">مبلغ کل</div>
                            <div class="py-15 fw-500 text-dark-1"><strong><span id="PayablePrice">0</span></strong> تومان</div>
                        </div>
                    </div>                
                    
                    <input readonly hidden id="TotalPriceInt" />
                    <input readonly hidden id="TaxPriceInt" />

                    <a href="#" class="button -md -purple-1 text-white col-12 mt-30 pay-cart" data-url="@Url.Action("Pay","Payment")">تسویه حساب</a>
                </div>
            </div>
        </div>
    </section>
</div>