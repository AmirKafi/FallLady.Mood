(function(){var n,t;n=function(n){return toastr.options.tapToDismiss=n===void 0?!0:n,toastr.options.preventDuplicates=!1,toastr.options.closeButton=!1,toastr.options.timeOut="5000",toastr.options.extendedTimeOut="1000"};t=function(n){return toastr.options.tapToDismiss=n===void 0?!0:n,toastr.options.preventDuplicates=!1,toastr.options.closeButton=!0,toastr.options.timeOut="0",toastr.options.extendedTimeOut="0"};window.coreUserAdditionalParams=function(){return{name:$(".core-user-list #Name").val(),nationalCode:$(".core-user-list #NationalCode").val(),userName:$(".core-user-list #UserName").val(),roleId:$(".core-user-list #RoleId").val(),unitPositionId:$(".core-user-list #UnitPositionId").val()}};window.corePersonnelIsActiveFormatter=function(n){return n?"بله":"خیر"};window.coreDashbordTreeAdditionalParams=function(){};window.subordinateTreeFormatter=function(){return"<button class='btn btn-xs btn-info btn-block btnDashbordTree'>نمایش درخت<\/button > "};$(document).on("keyup",".core-dashbordTree-create #SearchJsTree",function(){$("#dashbordTree").jstree("search",$(this).val().toString())});$(document).on("click",".core-dashbordTree-create #CloseAllNodes ",function(){$("#dashbordTree").jstree().close_all()});window.subordinateTreeEvents={"click button.btnDashbordTree":function(n,t,i){var r,u;r=$(n.target);u=$(".core-dashbordTree-list table[data-toggle='table']");$.ajax({url:u.data("treeUrl"),type:"Get",data:{subordinateCorporationId:i.subordinateCorporationId}}).done(function(n){setTimeout(function(){r.dialog({title:"نمایش درخت داشبورد",destroyAfterClose:!0,mode:"",showBtnSave:!1,content:n,onBeforeOpen:function(){_.each($(".dialog-body .tree"),function(n){var t=$(n).attr("data_url_params");$("#dashbordTree").jstree({core:{themes:{icons:!0},data:{type:"POST",url:$(n).attr("data_url"),data:function(){return{subordinateCorporationId:window.getAllUrlParams((_ref=t)!=null?_ref:"",window).subordinatecorporationid}}}},search:{case_insensitive:!0,show_only_matches:!0},types:{"default":{icon:"glyphicon glyphicon-flash"},demo:{icon:"glyphicon glyphicon-ok"}},plugins:["search","types"]})})}})},700)}).fail(function(n){var t;return(t=n.status===403?n.statusText:"Error",t==="Error")?toastr.error("متاسفانه خطایی رخ داده است"):t==="Forbidden"?toastr.error("شما دسترسی لازم برای مشاهده جزئیات را ندارید"):void 0}).always(function(){})}};$(document).on("change",".core-dashbordTree-create #DashbordLevelId",function(){var u,i,n,t,r;(u=$(this),i=u.val(),n=$(".core-dashbordTree-create #HoldingIdList"),t=$(".core-dashbordTree-create #MainCorporationIdList"),r=$(".core-dashbordTree-create #SubCorporationIdList"),i!=null&&i!=="")&&(i==="Holdings"?(n.data("max-options",1),n.data("actions-box",!1),n.data("size",5)):i==="MainCorporations"?(n.data("max-options",1),n.data("actions-box",!1),n.data("size",5),t.data("max-options",1),t.data("actions-box",!1),t.data("size",5)):i==="SubCorporations"&&(n.data("max-options",1),n.data("actions-box",!1),n.data("size",5),t.data("max-options",1),t.data("actions-box",!1),t.data("size",5),r.data("max-options",1),r.data("actions-box",!1),r.data("size",5)),n.selectpicker("destroy"),n.selectpicker(),t.selectpicker("destroy"),t.selectpicker(),r.selectpicker("destroy"),r.selectpicker())});window.coreSubordinateCorporationAdditionalParams=function(){return{title:$(".core-subordinateCorporation-list #Title").val()}};window.coreHoldingAdditionalParams=function(){return{title:$(".core-holding-list #Title").val(),subordinateCorporationId:$(".core-holding-list #SubordinateCorporationId").val()}};window.coreMainCorporationAdditionalParams=function(){return{title:$(".core-mainCorporation-list #Title").val(),holdingId:$(".core-mainCorporation-list #HoldingId").val()}};window.coreSubCorporationAdditionalParams=function(){return{title:$(".core-subCorporation-list #Title").val(),mainCorporationId:$(".core-subCorporation-list #MainCorporationId").val()}};window.coreRoleAdditionalParams=function(){return{title:$(".core-role-list #Title").val(),dashbordLevelId:$(".core-role-list #DashbordLevelId").val()}};window.coreUnitPositionAdditionalParams=function(){return{title:$(".core-unitPosition-list #Title").val(),roleId:$(".core-unitPosition-list #RoleId").val()}};window.rolePermissionFormatter=function(){return"<button class='btn btn-xs btn-info btn-block btnRolePermission'>ثبت دسترسی نقش<\/button > "};window.rolePermissionEvents={"click button.btnRolePermission":function(i,r,u){var f,e;f=$(i.target);e=$(".core-role-list table[data-toggle='table']");$.ajax({url:e.data("rolePermissionUrl"),type:"Get",data:{roleId:u.roleId}}).done(function(i){setTimeout(function(){f.dialog({title:"افزودن دسترسی نقش",destroyAfterClose:!0,mode:"",content:i,onSaveClick:function(i){var r,u;r=$(i);u=r.parent().prev().find("form");u.valid()?(r.prop("disabled",!0),$.ajax({url:u.attr("action"),method:"POST",data:new FormData(u.get(0)),processData:!1,contentType:!1,cache:!1}).done(function(t){var i;if(n(),t.resultStatus!=="Successful"){toastr.error((i=t.message)!=null?i:resource.exception.saveError);return}toastr.success(resource.message.saveSuccess);f.data("dialog").hide(f.data("dialogId"))}).fail(function(t){if(n(),content=t.status===403?t.statusText:"Error",content==="Error"){toastr.error(resource.exception.addError);return}if(content==="Forbidden"){toastr.error(resource.exception.addForbidden);return}}).always(function(){r.prop("disabled",!1);t()})):window.gotoErrorModal()},onBeforeOpen:function(){var n;$("form").validateBootstrap(!0);window.inputmasks();$(".dialog-body select").selectpicker({container:"body"});n=$.calendars.instance("persian","fa");$(".shamsi").calendarsPicker({calendar:n},$.calendarsPicker.regionalOptions.fa);imageFiles=$("input[type=file].imageFile");_.each(imageFiles,function(n,t){var i,r,u,f;if($(n).fileinput({language:"fa",showUpload:!1,uploadAsync:!0,allowedFileExtensions:["jpg","png","pdf","xlsx","docx"],fileActionSettings:{showDrag:!1}}),i=$("#"+((f=$(n).data("fileName"))!=null?f:"FileName")).val(),(i==="undefined"||i===void 0||i==="")&&(i=[]),i.length>0){r=$(""+$(n).data("previewTarget"));u=r.find(".file-preview-thumbnails");r.removeClass("hidden");u.append("<div class='file-preview-frame krajee-default kv-preview-thumb' data-fileindex='"+t+"' data-template='image'> <div class='kv-file-content'> <img src='"+$(n).data("url")+"/"+i+"' class='kv-preview-data file-preview-image' style='width:auto;height:160px;' /> <\/div> <div> <div class='file-footer-buttons'> <button type='button' data-id='"+i+"' class='kv-file-remove btn btn-xs btn-default'><i class='glyphicon glyphicon-trash text-danger'><\/i><\/button> <\/div> <div class='clearfix'><\/div> <\/div> <\/div>");$(document).off("click",""+$(n).data("previewTarget")+" .close.fileinput-remove");$(document).on("click",""+$(n).data("previewTarget")+" .close.fileinput-remove",function(){bootbox.confirm("آیا واقعا میخواهید همه فایل ها را حذف کنید؟",function(t){var i;if(t===!0)return $("#"+((i=$(n).data("fileName"))!=null?i:"FileName")).val(""),u.empty(),r.addClass("hidden")})});$(document).off("click",""+$(n).data("previewTarget")+" .kv-file-remove");return $(document).on("click",""+$(n).data("previewTarget")+" .kv-file-remove",function(){var t,i;t=$(this);i=t.attr("data-id");bootbox.confirm("آیا واقعا میخواهید این فایل را حذف کنید؟",function(i){var f,e;if(i===!0&&($("#"+((f=$(n).data("fileName"))!=null?f:"FileName")).val(""),t.closest(".file-preview-frame").remove(),((e=u.find(".file-preview-frame"))!=null?e.length:void 0)===0))return r.addClass("hidden")})})}});_.each($(".dialog-body .tree"),function(n){var t=$(n).attr("data_url_params");$("#permissionTree").jstree({core:{themes:{icons:!0},data:{type:"POST",url:$(n).attr("data_url"),data:function(){return{roleId:window.getAllUrlParams((_ref=t)!=null?_ref:"",window).roleId,__RequestVerificationToken:$("input[name=__RequestVerificationToken]").val()}}}},checkbox:{keep_selected_style:!1,three_state:!1,tie_selection:!1},search:{case_insensitive:!0,show_only_matches:!0},plugins:["checkbox","search"]});$("#"+n.id).on("check_node.jstree uncheck_node.jstree",function(t){var i,r,u;t.type=="uncheck_node"?$("#"+$(n).attr("data_checkAll")).prop("checked",!1):t.type=="check_node"&&$(this).jstree().get_json("#",{flat:!0}).length===$(this).jstree().get_checked(!0).length&&$("#"+$(n).attr("data_checkAll")).prop("checked",!0);i=[];r=$("#"+n.id).jstree("get_checked",!0);$.each(r,function(){i.push(parseInt(this.id))});u=(_ref=$(n).attr("data_list"))!=null?_ref:"list";$("#"+u).val(i)});$("#"+$(n).attr("data_checkAll")).change(function(){var t,i,r;$("#"+$(n).attr("data_checkAll")).is(":checked")?($("#"+n.id).jstree().check_all(!0),t=[],i=$("#"+n.id).jstree("get_checked",!0),$.each(i,function(){t.push(parseInt(this.id))}),r=(_ref=$(n).attr("data_list"))!=null?_ref:"list",$("#"+r).val(t)):($("#"+n.id).jstree().uncheck_all(!0),t=[],i=$("#"+n.id).jstree("get_checked",!0),$.each(i,function(){t.push(parseInt(this.id))}),r=(_ref=$(n).attr("data_list"))!=null?_ref:"list",$("#"+r).val(t))})});_.each($(".dialog-body select.shortcut"),function(n,t){var i;$(n).closest(".input-group").length>0||(i=$("<div class='input-group ig_"+t+"'/>"),$(n).parent().wrap(i),i=$(".dialog-body .ig_"+t),$(n).data("refreshUrl")!=null&&i.append("<span class='input-group-btn'> <button class='btn btn-default refresh' type='button' style=' border: 2px solid #E020FF; border-radius: 7px; background: transparent; color: #E020FF;' data-url='"+$(n).data("refreshUrl")+"' data-parent='"+$(n).data("parent")+"'><i class='glyphicon glyphicon-refresh icon-refresh'><\/i><\/button> <\/span>"),$(n).data("newUrl")!=null&&i.append("<span class='input-group-btn'> <a href='javascript:void(0)' data-dialog-title='"+$(n).data("dialogTitle")+"' data-url='"+$(n).data("newUrl")+"' class='btn btn-default btn-shortcut createItem'><i class='material-icons'>add<\/i><\/a> <\/span>"))});$("table[data-toggle=table2]").bootstrapTable();$("table[data-toggle=table3]").bootstrapTable();$("table[data-toggle=table4]").bootstrapTable();$("table[data-toggle=table5]").bootstrapTable();$("table[data-toggle=table6]").bootstrapTable()}})},700)}).fail(function(n){var t;return(t=n.status===403?n.statusText:"Error",t==="Error")?toastr.error("متاسفانه خطایی رخ داده است"):t==="Forbidden"?toastr.error("شما دسترسی لازم برای مشاهده جزئیات را ندارید"):void 0}).always(function(){})}};$(document).on("keyup","#SearchJsTree",function(){$("#permissionTree").jstree("search",$(this).val().toString())});$(document).on("click","#CloseAllNodes ",function(){$("#permissionTree").jstree().close_all()});$(document).on("change",".core-role-create #DashbordLevelId",function(){var t,n;(t=$(this),n=t.val(),n!=null&&n!=="")&&$.ajax({type:"POST",url:t.data("url"),data:{dashbordLevelId:n,__RequestVerificationToken:$("input[name=__RequestVerificationToken]").val()}}).done(function(n){var t=$(".core-role-create #CorporationId");t.html("");_.each(n.data,function(n){t.append("<option value='"+n.value+"'>"+n.text+"<\/option>")});t.selectpicker("refresh")})});window.UnitPositionPermissionFormatter=function(){return"<button class='btn btn-xs btn-info btn-block btnUnitPositionPermission'>ثبت دسترسی سمت<\/button > "};window.UnitPositionPermissionEvents={"click button.btnUnitPositionPermission":function(i,r,u){var f,e;f=$(i.target);e=$(".core-unitPosition-list table[data-toggle='table']");$.ajax({url:e.data("menuUrl"),type:"Get",data:{unitPositionId:u.unitPositionId}}).done(function(i){setTimeout(function(){f.dialog({title:"لیست دسترسی ها",destroyAfterClose:!0,mode:"",content:i,onSaveClick:function(i){var r,u;r=$(i);u=r.parent().prev().find("form");u.valid()?(r.prop("disabled",!0),$.ajax({url:u.attr("action"),method:"POST",data:new FormData(u.get(0)),processData:!1,contentType:!1,cache:!1}).done(function(t){var i;if(n(),t.resultStatus!=="Successful"){toastr.error((i=t.message)!=null?i:resource.exception.saveError);return}toastr.success(resource.message.saveSuccess);f.data("dialog").hide(f.data("dialogId"))}).fail(function(t){if(n(),content=t.status===403?t.statusText:"Error",content==="Error"){toastr.error(resource.exception.addError);return}if(content==="Forbidden"){toastr.error(resource.exception.addForbidden);return}}).always(function(){r.prop("disabled",!1);t()})):window.gotoErrorModal()},onBeforeOpen:function(){var n;$("form").validateBootstrap(!0);window.inputmasks();$(".dialog-body select").selectpicker({container:"body"});n=$.calendars.instance("persian","fa");$(".shamsi").calendarsPicker({calendar:n},$.calendarsPicker.regionalOptions.fa);imageFiles=$("input[type=file].imageFile");_.each(imageFiles,function(n,t){var i,r,u,f;if($(n).fileinput({language:"fa",showUpload:!1,uploadAsync:!0,allowedFileExtensions:["jpg","png","pdf","xlsx","docx"],fileActionSettings:{showDrag:!1}}),i=$("#"+((f=$(n).data("fileName"))!=null?f:"FileName")).val(),(i==="undefined"||i===void 0||i==="")&&(i=[]),i.length>0){r=$(""+$(n).data("previewTarget"));u=r.find(".file-preview-thumbnails");r.removeClass("hidden");u.append("<div class='file-preview-frame krajee-default kv-preview-thumb' data-fileindex='"+t+"' data-template='image'> <div class='kv-file-content'> <img src='"+$(n).data("url")+"/"+i+"' class='kv-preview-data file-preview-image' style='width:auto;height:160px;' /> <\/div> <div> <div class='file-footer-buttons'> <button type='button' data-id='"+i+"' class='kv-file-remove btn btn-xs btn-default'><i class='glyphicon glyphicon-trash text-danger'><\/i><\/button> <\/div> <div class='clearfix'><\/div> <\/div> <\/div>");$(document).off("click",""+$(n).data("previewTarget")+" .close.fileinput-remove");$(document).on("click",""+$(n).data("previewTarget")+" .close.fileinput-remove",function(){bootbox.confirm("آیا واقعا میخواهید همه فایل ها را حذف کنید؟",function(t){var i;if(t===!0)return $("#"+((i=$(n).data("fileName"))!=null?i:"FileName")).val(""),u.empty(),r.addClass("hidden")})});$(document).off("click",""+$(n).data("previewTarget")+" .kv-file-remove");return $(document).on("click",""+$(n).data("previewTarget")+" .kv-file-remove",function(){var t,i;t=$(this);i=t.attr("data-id");bootbox.confirm("آیا واقعا میخواهید این فایل را حذف کنید؟",function(i){var f,e;if(i===!0&&($("#"+((f=$(n).data("fileName"))!=null?f:"FileName")).val(""),t.closest(".file-preview-frame").remove(),((e=u.find(".file-preview-frame"))!=null?e.length:void 0)===0))return r.addClass("hidden")})})}});_.each($(".dialog-body .tree"),function(n){var t=$(n).attr("data_url_params");$("#permissionTree").jstree({core:{themes:{icons:!0},data:{type:"POST",url:$(n).attr("data_url"),data:function(){return{roleId:window.getAllUrlParams((_ref=t)!=null?_ref:"",window).roleId,__RequestVerificationToken:$("input[name=__RequestVerificationToken]").val()}}}},checkbox:{keep_selected_style:!1,three_state:!1,tie_selection:!1},search:{case_insensitive:!0,show_only_matches:!0},plugins:["checkbox","search"]});$("#"+n.id).on("check_node.jstree uncheck_node.jstree",function(t){var i,r,u;t.type=="uncheck_node"?$("#"+$(n).attr("data_checkAll")).prop("checked",!1):t.type=="check_node"&&$(this).jstree().get_json("#",{flat:!0}).length===$(this).jstree().get_checked(!0).length&&$("#"+$(n).attr("data_checkAll")).prop("checked",!0);i=[];r=$("#"+n.id).jstree("get_checked",!0);$.each(r,function(){i.push(parseInt(this.id))});u=(_ref=$(n).attr("data_list"))!=null?_ref:"list";$("#"+u).val(i)});$("#"+$(n).attr("data_checkAll")).change(function(){var t,i,r;$("#"+$(n).attr("data_checkAll")).is(":checked")?($("#"+n.id).jstree().check_all(!0),t=[],i=$("#"+n.id).jstree("get_checked",!0),$.each(i,function(){t.push(parseInt(this.id))}),r=(_ref=$(n).attr("data_list"))!=null?_ref:"list",$("#"+r).val(t)):($("#"+n.id).jstree().uncheck_all(!0),t=[],i=$("#"+n.id).jstree("get_checked",!0),$.each(i,function(){t.push(parseInt(this.id))}),r=(_ref=$(n).attr("data_list"))!=null?_ref:"list",$("#"+r).val(t))})});_.each($(".dialog-body select.shortcut"),function(n,t){var i;$(n).closest(".input-group").length>0||(i=$("<div class='input-group ig_"+t+"'/>"),$(n).parent().wrap(i),i=$(".dialog-body .ig_"+t),$(n).data("refreshUrl")!=null&&i.append("<span class='input-group-btn'> <button class='btn btn-default refresh' type='button' style=' border: 2px solid #E020FF; border-radius: 7px; background: transparent; color: #E020FF;' data-url='"+$(n).data("refreshUrl")+"' data-parent='"+$(n).data("parent")+"'><i class='glyphicon glyphicon-refresh icon-refresh'><\/i><\/button> <\/span>"),$(n).data("newUrl")!=null&&i.append("<span class='input-group-btn'> <a href='javascript:void(0)' data-dialog-title='"+$(n).data("dialogTitle")+"' data-url='"+$(n).data("newUrl")+"' class='btn btn-default btn-shortcut createItem'><i class='material-icons'>add<\/i><\/a> <\/span>"))});$("table[data-toggle=table2]").bootstrapTable();$("table[data-toggle=table3]").bootstrapTable();$("table[data-toggle=table4]").bootstrapTable();$("table[data-toggle=table5]").bootstrapTable();$("table[data-toggle=table6]").bootstrapTable()}})},700)}).fail(function(t){alert(JSON.stringify(t));var i;if(n(),i=t.status===403?t.statusText:"Error",i==="Error"){toastr.error(resource.exception.addError);return}if(i==="Forbidden"){toastr.error(resource.exception.addForbidden);return}}).always(function(){})}};$(document).on("change",".core-user-create #RoleId",function(){var t,i,n;t=$(this);i=t.val();$.ajax({type:"POST",url:t.data("url"),data:{roleId:i,__RequestVerificationToken:$("input[name=__RequestVerificationToken]").val()}}).done(function(t){n=$(".core-user-create select#UnitPositionId");n.html("");_.each(t.data,function(t){n.append("<option value='"+t.unitPositionId+"'>"+t.title+"<\/option>")});n.selectpicker("refresh")})});window.corePersonnelGridFormatter=function(){return"<button class='btn btn-xs btn-info btnResetPassword'>ریست کلمه عبور<\/button>"};window.corePersonnelGridEvents={"click button.btnResetPassword":function(t,i,r){bootbox.confirm("آیا از انجام این عملیات مطمئن هستید ؟",function(i){if(i===!0){var f,u;f=$(t.target);u=$(".core-user-list table[data-toggle='table']");$.ajax({url:u.data("resetPasswordUrl"),type:"POST",data:{userId:r.userId,__RequestVerificationToken:$("input[name=__RequestVerificationToken]").val()}}).done(function(t){var i;if(n(),t.resultStatus!=="Successful"){toastr.error((i=t.message)!=null?i:resource.exception.saveError);return}toastr.success(resource.message.saveSuccess);window.$table.bootstrapTable("refresh",{silent:!0,pageNumber:1})}).fail(function(t){var i;if(n(),i=t.status===403?t.statusText:"Error",i==="Error"){toastr.error(resource.exception.addError);return}if(i==="Forbidden"){toastr.error(resource.exception.addForbidden);return}}).always(function(){})}})}}}).call(this),function(){$(document).on("change","#HoldingsIdList",function(){var i,t,n;if(i=$(this),t=i.val(),n=$("#MainCorporationsIdList"),subCorporations=$("#SubCorporationsIdList"),t==null||t===""){n.html("");n.selectpicker("refresh");subCorporations.html("");subCorporations.selectpicker("refresh");return}$.ajax({type:"POST",url:i.data("url"),data:{holdingsIdList:t,__RequestVerificationToken:$("input[name=__RequestVerificationToken]").val()}}).done(function(t){var i;i=$("#MainCorporationsIdList").val();n.html("");_.each(t.data,function(t){n.append("<option value='"+t.mainCorporationId+"'>"+t.title+"<\/option>")});n.val(i);n.selectpicker("refresh")})});$(document).on("change","#MainCorporationsIdList",function(){var i,t,r,n,u;if(i=$(this),t=i.val(),n=$("#SubCorporationsIdList"),u=$("#SubordinateCorporationId").val(),r=$("#HoldingsIdList").val(),t==null||t===""){n.html("");n.selectpicker("refresh");return}$.ajax({type:"POST",url:i.data("url"),data:{subordinateCorporationId:u,holdingsIdList:r,mainCorporationsIdList:t,__RequestVerificationToken:$("input[name=__RequestVerificationToken]").val()}}).done(function(t){var i;i=$("#SubCorporationsIdList").val();n.html("");_.each(t.data,function(t){n.append("<option value='"+t.subCorporationId+"'>"+t.title+"<\/option>")});n.val(i);n.selectpicker("refresh")})});var i,r,t,n;i=function(n){return toastr.options.tapToDismiss=n===void 0?!0:n,toastr.options.preventDuplicates=!1,toastr.options.closeButton=!1,toastr.options.timeOut="5000",toastr.options.extendedTimeOut="1000"};r=function(n){return toastr.options.tapToDismiss=n===void 0?!0:n,toastr.options.preventDuplicates=!1,toastr.options.closeButton=!0,toastr.options.timeOut="0",toastr.options.extendedTimeOut="0"};window.evacWasteManagementMethodsInSpecialPeriodReportAdditionalParams=function(){return{subordinateCorporationId:$(".wasteManagementMethodsInSpecialPeriodReport-list #SubordinateCorporationId").val(),holdingsIdList:$(".wasteManagementMethodsInSpecialPeriodReport-list #HoldingsIdList").val(),mainCorporationIdList:$(".wasteManagementMethodsInSpecialPeriodReport-list #MainCorporationsIdList").val(),subCorporationsIdList:$(".wasteManagementMethodsInSpecialPeriodReport-list #SubCorporationsIdList").val(),wasteId:$(".wasteManagementMethodsInSpecialPeriodReport-list #WasteId").val(),createDateLocal:$(".wasteManagementMethodsInSpecialPeriodReport-list #CreateDateLocal").val(),fromDateLocal:$(".wasteManagementMethodsInSpecialPeriodReport-list #FromDateLocal").val(),toDateLocal:$(".wasteManagementMethodsInSpecialPeriodReport-list #ToDateLocal").val()}};$(document).on("change",".monthlyWasteReport-list #ReportPeriodId",function(){var t,n;(t=$(this),n=t.val(),n!=null&&n!=="")&&$.ajax({type:"POST",url:t.data("url"),data:{reportPeriodId:n,__RequestVerificationToken:$("input[name=__RequestVerificationToken]").val()}}).done(function(n){var t=$(".monthlyWasteReport-list #PeriodId");t.html("");_.each(n.data,function(n){t.append("<option value='"+n.periodId+"'>"+n.title+"<\/option>")});t.selectpicker("refresh").trigger("change")})});window.evacMonthlyWasteReportAdditionalParams=function(){return{subordinateCorporationId:$(".monthlyWasteReport-list #SubordinateCorporationId").val(),holdingsIdList:$(".monthlyWasteReport-list #HoldingsIdList").val(),mainCorporationIdList:$(".monthlyWasteReport-list #MainCorporationsIdList").val(),subCorporationsIdList:$(".monthlyWasteReport-list #SubCorporationsIdList").val(),wasteId:$(".monthlyWasteReport-list #WasteId").val(),year:$(".monthlyWasteReport-list #Year").val(),periodId:$(".monthlyWasteReport-list #PeriodId").val()}};$(document).on("change",".wasteManagementByFormCodeReport-list #ReportPeriodId",function(){var t,n;(t=$(this),n=t.val(),n!=null&&n!=="")&&$.ajax({type:"POST",url:t.data("url"),data:{reportPeriodId:n,__RequestVerificationToken:$("input[name=__RequestVerificationToken]").val()}}).done(function(n){var t=$(".wasteManagementByFormCodeReport-list #PeriodId");t.html("");_.each(n.data,function(n){t.append("<option value='"+n.periodId+"'>"+n.title+"<\/option>")});t.selectpicker("refresh").trigger("change")})});window.evacWasteManagementByFormCodeReportAdditionalParams=function(){return{subordinateCorporationId:$(".wasteManagementByFormCodeReport-list #SubordinateCorporationId").val(),holdingsIdList:$(".wasteManagementByFormCodeReport-list #HoldingsIdList").val(),mainCorporationIdList:$(".wasteManagementByFormCodeReport-list #MainCorporationsIdList").val(),subCorporationsIdList:$(".wasteManagementByFormCodeReport-list #SubCorporationsIdList").val(),year:$(".wasteManagementByFormCodeReport-list #Year").val(),periodId:$(".wasteManagementByFormCodeReport-list #PeriodId").val()}};window.evacProductionManagedWasteReportAdditionalParams=function(){return{subordinateCorporationId:$(".productionManagedWasteReport-list #SubordinateCorporationId").val(),holdingsIdList:$(".productionManagedWasteReport-list #HoldingsIdList").val(),mainCorporationIdList:$(".productionManagedWasteReport-list #MainCorporationsIdList").val(),subCorporationsIdList:$(".productionManagedWasteReport-list #SubCorporationsIdList").val(),wasteId:$(".productionManagedWasteReport-list #WasteId").val(),wasteTypeId:$(".productionManagedWasteReport-list #WasteTypeId").val(),wasteStateId:$(".productionManagedWasteReport-list #WasteStateId").val(),wasteGroupId:$(".productionManagedWasteReport-list #WasteGroupId").val(),dangerCodeId:$(".productionManagedWasteReport-list #DangerCodeId").val(),fromDateLocal:$(".productionManagedWasteReport-list #FromDateLocal").val(),toDateLocal:$(".productionManagedWasteReport-list #ToDateLocal").val(),calculateType:$(".productionManagedWasteReport-list #CalculateType").val()}};$(document).on("change",".monthlyWasteByHazardousTypeReport-list #ReportPeriodId",function(){var t,n;(t=$(this),n=t.val(),n!=null&&n!=="")&&$.ajax({type:"POST",url:t.data("url"),data:{reportPeriodId:n,__RequestVerificationToken:$("input[name=__RequestVerificationToken]").val()}}).done(function(n){var t=$(".monthlyWasteByHazardousTypeReport-list #PeriodId");t.html("");_.each(n.data,function(n){t.append("<option value='"+n.periodId+"'>"+n.title+"<\/option>")});t.selectpicker("refresh").trigger("change")})});window.evacMonthlyWasteByHazardousTypeReportAdditionalParams=function(){return{subordinateCorporationId:$(".monthlyWasteByHazardousTypeReport-list #SubordinateCorporationId").val(),holdingsIdList:$(".monthlyWasteByHazardousTypeReport-list #HoldingsIdList").val(),mainCorporationIdList:$(".monthlyWasteByHazardousTypeReport-list #MainCorporationsIdList").val(),subCorporationsIdList:$(".monthlyWasteByHazardousTypeReport-list #SubCorporationsIdList").val(),wasteId:$(".monthlyWasteByHazardousTypeReport-list #WasteId").val(),year:$(".monthlyWasteByHazardousTypeReport-list #Year").val(),periodId:$(".monthlyWasteByHazardousTypeReport-list #PeriodId").val()}};$(document).on("change",".graphicalUnitProductionWasteWasteTypeReport-list #WasteTypesId",function(){var n,t;t=[];n=$(this);t=n.val();$(".graphicalUnitProductionWasteWasteTypeReport-list #WasteTypesId option:not(.selected)").prop("disabled",!1);n.selectpicker("refresh");t.includes("0")?(t=[],t.push(["0"]),n.val(t),$(".graphicalUnitProductionWasteWasteTypeReport-list #WasteTypesId option:not(.selected)").prop("disabled",!0),$(".graphicalUnitProductionWasteWasteTypeReport-list #WasteTypesId option[value='0']").prop("disabled",!1),n.selectpicker("refresh")):($(".graphicalUnitProductionWasteWasteTypeReport-list #WasteTypesId option:not(.selected)").prop("disabled",!1),n.selectpicker("refresh"))});$(document).on("change",".graphicalUnitProductionWasteWasteTypeReport-list #WasteGroupId",function(){var t,n;(t=$(this),n=t.val(),n!=null&&n!=="")&&$.ajax({type:"POST",url:t.data("url"),data:{wasteGroupId:n,__RequestVerificationToken:$("input[name=__RequestVerificationToken]").val()}}).done(function(n){console.log(n);var t=$(".graphicalUnitProductionWasteWasteTypeReport-list #WasteTypesId");t.html("");t.append("<option value='0'>همه<\/option>");_.each(n.data,function(n){t.append("<option value='"+n.wasteTypeId+"'>"+n.title+"<\/option>")});t.selectpicker("refresh")})});window.evacGraphicalUnitProductionWasteWasteTypeReportAdditionalParams=function(){return{subordinateCorporationId:$(".graphicalUnitProductionWasteWasteTypeReport-list #SubordinateCorporationId").val(),holdingsIdList:$(".graphicalUnitProductionWasteWasteTypeReport-list #HoldingsIdList").val(),mainCorporationIdList:$(".graphicalUnitProductionWasteWasteTypeReport-list #MainCorporationsIdList").val(),subCorporationsIdList:$(".graphicalUnitProductionWasteWasteTypeReport-list #SubCorporationsIdList").val(),wasteTypeIdList:$(".graphicalUnitProductionWasteWasteTypeReport-list #WasteTypesId").val(),wasteGroupId:$(".graphicalUnitProductionWasteWasteTypeReport-list #WasteGroupId").val(),fromDateLocal:$(".graphicalUnitProductionWasteWasteTypeReport-list #FromDateLocal").val(),toDateLocal:$(".graphicalUnitProductionWasteWasteTypeReport-list #ToDateLocal").val(),calculateType:$(".graphicalUnitProductionWasteWasteTypeReport-list #CalculateType").val()}};window.graphicalUnitProductionWasteWasteTypeReport=function(){var u,r;r={};u="evacGraphicalUnitProductionWasteWasteTypeReportAdditionalParams";u!=null&&(r=$.extend({},window.execFunc(u,window),r));window.dataParams!=null&&(r=$.extend({},window.dataParams(),r));r.__RequestVerificationToken=$("input[name=__RequestVerificationToken]").val();$.ajax({type:"post",url:window.$table.data("url"),data:r,cache:!1}).done(function(r){var u;i();window.$table.bootstrapTable("removeAll");u=[];$.each(r.data,function(n,t){t.rowNumber=1+n});_.each(r.data,function(n){u.push({rowNumber:n.rowNumber,wasteGroupTitle:$(".graphicalUnitProductionWasteWasteTypeReport-list #WasteGroupId option:selected").text(),wasteTypeTitle:n.wasteTypeTitle,wasteAmount:n.wasteAmount,calculateTypeTitle:$(".graphicalUnitProductionWasteWasteTypeReport-list #CalculateType option:selected").text()})});window.$table.bootstrapTable("load",u);t!=null&&t.destroy();n!=null&&n.destroy();window.loadChartUnitProductionWasteWasteType(r.data)}).fail(function(n){toastr.error(n.status===403?resource.exception.forbidden:resource.exception.serverError)})};window.loadChartUnitProductionWasteWasteType=function(i){var r,o,s,h,u,f,c,l,e,a;for(r='YekanNumbers, IRANSansdn, "Helvetica Neue", Helvetica, Arial, sans-serif',u=[],f=0;f<i.length;f++)c="rgb("+window.getRandomInt(100,200)+", "+window.getRandomInt(100,200)+", "+window.getRandomInt(100,200)+")",u.push(c);dataBar={datasets:[]};i.forEach(function(n,t){dataBar.datasets.push({backgroundColor:u[t],data:[n.wasteAmount],label:[n.info],fill:!1})});dataPie={labels:_.union(_.pluck(i,"info")),datasets:[{backgroundColor:u,data:_.pluck(i,"wasteAmount"),label:_.pluck(i,"info"),fill:!1}]};l=new Date;e="[تاریخ : "+l.echoFa("l، j F Y - H:i")+"]";o={maintainAspectRatio:!1,spanGaps:!1,responsive:!0,hoverMode:"index",stacked:!1,elements:{line:{tension:1e-6}},tooltips:{enabled:!1,mode:"index",intersect:!1,custom:window.chartjsTooltips},title:{display:!0,text:["گزارش نموداری مقدار پسماند تولیدی - ماهیت پسماند",e],fontFamily:r,fontSize:14},legend:{display:!0,labels:{fontFamily:r}},scales:{xAxes:[{display:!0,scaleLabel:{display:!0,labelString:"تاریخ"},beginAtZero:!0,ticks:{autoSkip:!1}}],yAxes:[{display:!0,scaleLabel:{display:!0,labelString:"مقدار پسماند("+$(".graphicalUnitProductionWasteWasteTypeReport-list #CalculateType option:selected").text()+")"}}]}};s=document.getElementById("chart-graphicalUnitProductionWasteWasteTypeReport");t=new Chart(s,{type:"bar",data:dataBar,options:o});a={maintainAspectRatio:!1,spanGaps:!1,responsive:!0,stacked:!1,tooltips:{enabled:!1,mode:"index",intersect:!1,custom:window.chartjsTooltips},title:{display:!0,text:["گزارش نموداری مقدار پسماند تولیدی - ماهیت پسماند",e],fontFamily:r,fontSize:14},legend:{display:!0,labels:{fontFamily:r}},plugins:{datalabels:{formatter:(n,t)=>{let i=0,r=t.chart.data.datasets[0].data;r.map(n=>{i+=n});return(n*100/i).toFixed(2)+"%"},color:"black"}}};h=document.getElementById("chart-graphicalUnitProductionWasteWasteTypeReportPieChart");n=new Chart(h,{type:"pie",data:dataPie,options:a});$(".export-chart").css("display","block")};window.evacGraphicalUnitProductionWasteWasteGroupReportAdditionalParams=function(){return{subordinateCorporationId:$(".graphicalUnitProductionWasteWasteGroupReport-list #SubordinateCorporationId").val(),holdingsIdList:$(".graphicalUnitProductionWasteWasteGroupReport-list #HoldingsIdList").val(),mainCorporationIdList:$(".graphicalUnitProductionWasteWasteGroupReport-list #MainCorporationsIdList").val(),subCorporationsIdList:$(".graphicalUnitProductionWasteWasteGroupReport-list #SubCorporationsIdList").val(),wasteGroupTypeIdList:$(".graphicalUnitProductionWasteWasteGroupReport-list #WasteGroupTypeIdList").val(),fromDateLocal:$(".graphicalUnitProductionWasteWasteGroupReport-list #FromDateLocal").val(),toDateLocal:$(".graphicalUnitProductionWasteWasteGroupReport-list #ToDateLocal").val(),calculateType:$(".graphicalUnitProductionWasteWasteGroupReport-list #CalculateType").val()}};window.graphicalUnitProductionWasteWasteGroupReport=function(){var u,r;r={};u="evacGraphicalUnitProductionWasteWasteGroupReportAdditionalParams";u!=null&&(r=$.extend({},window.execFunc(u,window),r));window.dataParams!=null&&(r=$.extend({},window.dataParams(),r));r.__RequestVerificationToken=$("input[name=__RequestVerificationToken]").val();$.ajax({type:"post",url:window.$table.data("url"),data:r,cache:!1}).done(function(r){var f,u;if(i(),r.resultStatus!=="Successful"&&r.resultStatus!=="DataNotFound"){toastr.error((f=r.message)!=null?f:resource.exception.loadError);return}window.$table.bootstrapTable("removeAll");u=[];$.each(r.data,function(n,t){t.rowNumber=1+n});_.each(r.data,function(n){u.push({rowNumber:n.rowNumber,wasteGroupTitle:n.wasteGroupTitle,wasteAmount:n.wasteAmount,calculateTypeTitle:$(".graphicalUnitProductionWasteWasteGroupReport-list #CalculateType option:selected").text()})});window.$table.bootstrapTable("load",u);t!=null&&t.destroy();n!=null&&n.destroy();window.loadChartUnitProductionWasteWasteGroup(r.data)}).fail(function(n){toastr.error(n.status===403?resource.exception.forbidden:resource.exception.serverError)})};window.loadChartUnitProductionWasteWasteGroup=function(i){var r,o,s,h,u,f,c,l,e,a;for(r='YekanNumbers, IRANSansdn, "Helvetica Neue", Helvetica, Arial, sans-serif',u=[],f=0;f<i.length;f++)c="rgb("+window.getRandomInt(100,200)+", "+window.getRandomInt(100,200)+", "+window.getRandomInt(100,200)+")",u.push(c);dataBar={datasets:[]};i.forEach(function(n,t){dataBar.datasets.push({backgroundColor:u[t],data:[n.wasteAmount],label:[n.info],fill:!1})});dataPie={labels:_.union(_.pluck(i,"info")),datasets:[{backgroundColor:u,data:_.pluck(i,"wasteAmount"),label:_.pluck(i,"info"),fill:!1}]};l=new Date;e="[تاریخ : "+l.echoFa("l، j F Y - H:i")+"]";o={maintainAspectRatio:!1,spanGaps:!1,responsive:!0,hoverMode:"index",stacked:!1,elements:{line:{tension:1e-6}},tooltips:{enabled:!1,mode:"index",intersect:!1,custom:window.chartjsTooltips},title:{display:!0,text:["گزارش نموداری مقدار پسماند تولیدی - گروه پسماند",e],fontFamily:r,fontSize:14},legend:{display:!0,labels:{fontFamily:r}},scales:{xAxes:[{display:!0,scaleLabel:{display:!0,labelString:"تاریخ"},beginAtZero:!0,ticks:{autoSkip:!1}}],yAxes:[{display:!0,scaleLabel:{display:!0,labelString:"مقدار پسماند("+$(".graphicalUnitProductionWasteWasteGroupReport-list #CalculateType option:selected").text()+")"}}]}};s=document.getElementById("chart-graphicalUnitProductionWasteWasteGroupReport");t=new Chart(s,{type:"bar",data:dataBar,options:o});a={maintainAspectRatio:!1,spanGaps:!1,responsive:!0,stacked:!1,tooltips:{enabled:!1,mode:"index",intersect:!1,custom:window.chartjsTooltips},title:{display:!0,text:["گزارش نموداری مقدار پسماند تولیدی - گروه پسماند",e],fontFamily:r,fontSize:14},legend:{display:!0,labels:{fontFamily:r}},plugins:{datalabels:{formatter:(n,t)=>{let i=0,r=t.chart.data.datasets[0].data;r.map(n=>{i+=n});return(n*100/i).toFixed(2)+"%"},color:"black"}}};h=document.getElementById("chart-graphicalUnitProductionWasteWasteGroupReportPieChart");n=new Chart(h,{type:"pie",data:dataPie,options:a});$(".export-chart").css("display","block")};$(document).on("change",".graphicalProductionManagedWasteByWasteIdReport-list #WasteGroupId",function(){var t,n;(t=$(this),n=t.val(),n!=null&&n!=="")&&$.ajax({type:"POST",url:t.data("url"),data:{wasteGroupId:n,__RequestVerificationToken:$("input[name=__RequestVerificationToken]").val()}}).done(function(n){var t=$(".graphicalProductionManagedWasteByWasteIdReport-list #WasteTypeId");t.html("");_.each(n.data,function(n){t.append("<option value='"+n.wasteTypeId+"'>"+n.title+"<\/option>")});t.selectpicker("refresh").trigger("change")})});$(document).on("change",".graphicalProductionManagedWasteByWasteIdReport-list #WasteTypeId",function(){var t,n,i;(t=$(this),n=t.val(),i=$(".graphicalProductionManagedWasteByWasteIdReport-list #WasteGroupId").val(),n!=null&&n!=="")&&$.ajax({type:"POST",url:t.data("url"),data:{wasteTypeId:n,wasteGroupId:i,__RequestVerificationToken:$("input[name=__RequestVerificationToken]").val()}}).done(function(n){var t=$(".graphicalProductionManagedWasteByWasteIdReport-list #WasteIdList");t.html("");t.append("<option value='0'>همه<\/option>");_.each(n.data,function(n){t.append("<option value='"+n.wasteId+"'>"+n.title+"<\/option>")});t.selectpicker("refresh")})});$(document).on("change",".graphicalProductionManagedWasteByWasteIdReport-list #WasteIdList",function(){var n,t;t=[];n=$(this);t=n.val();$(".graphicalProductionManagedWasteByWasteIdReport-list #WasteIdList option:not(.selected)").prop("disabled",!1);n.selectpicker("refresh");t.includes("0")?(t=[],t.push(["0"]),n.val(t),$(".graphicalProductionManagedWasteByWasteIdReport-list #WasteIdList option:not(.selected)").prop("disabled",!0),$(".graphicalProductionManagedWasteByWasteIdReport-list #WasteIdList option[value='0']").prop("disabled",!1),n.selectpicker("refresh")):($(".graphicalProductionManagedWasteByWasteIdReport-list #WasteIdList option:not(.selected)").prop("disabled",!1),n.selectpicker("refresh"))});window.evacGraphicalProductionManagedWasteByWasteIdReportAdditionalParams=function(){return{subordinateCorporationId:$(".graphicalProductionManagedWasteByWasteIdReport-list #SubordinateCorporationId").val(),holdingsIdList:$(".graphicalProductionManagedWasteByWasteIdReport-list #HoldingsIdList").val(),mainCorporationIdList:$(".graphicalProductionManagedWasteByWasteIdReport-list #MainCorporationsIdList").val(),subCorporationsIdList:$(".graphicalProductionManagedWasteByWasteIdReport-list #SubCorporationsIdList").val(),wasteIdList:$(".graphicalProductionManagedWasteByWasteIdReport-list #WasteIdList").val(),wasteTypeId:$(".graphicalProductionManagedWasteByWasteIdReport-list #WasteTypeId").val(),wasteGroupId:$(".graphicalProductionManagedWasteByWasteIdReport-list #WasteGroupId").val(),fromDateLocal:$(".graphicalProductionManagedWasteByWasteIdReport-list #FromDateLocal").val(),toDateLocal:$(".graphicalProductionManagedWasteByWasteIdReport-list #ToDateLocal").val(),calculateType:$(".graphicalProductionManagedWasteByWasteIdReport-list #CalculateType").val()}};window.graphicalProductionManagedWasteByWasteIdReport=function(){var u,r;r={};u="evacGraphicalProductionManagedWasteByWasteIdReportAdditionalParams";u!=null&&(r=$.extend({},window.execFunc(u,window),r));window.dataParams!=null&&(r=$.extend({},window.dataParams(),r));r.__RequestVerificationToken=$("input[name=__RequestVerificationToken]").val();$.ajax({type:"post",url:window.$table.data("url"),data:r,cache:!1}).done(function(r){var f,u;if(i(),r.resultStatus!=="Successful"&&r.resultStatus!=="DataNotFound"){toastr.error((f=r.message)!=null?f:resource.exception.loadError);return}window.$table.bootstrapTable("removeAll");u=[];$.each(r.data,function(n,t){t.rowNumber=1+n});_.each(r.data,function(n){u.push({rowNumber:n.rowNumber,wasteTitle:n.wasteTitle,wasteTypeTitle:n.wasteTypeTitle,wasteGroupTitle:n.wasteGroupTitle,wasteAmount:n.wasteAmount,productionWasteAmount:n.productionWasteAmount,managedWasteAmount:n.managedWasteAmount,calculateTypeTitle:$(".graphicalProductionManagedWasteByWasteIdReport-list #CalculateType option:selected").text()})});window.$table.bootstrapTable("load",u);t!=null&&t.destroy();n!=null&&n.destroy();window.loadChartProductionManagedWasteByWasteId(r.data)}).fail(function(n){toastr.error(n.status===403?resource.exception.forbidden:resource.exception.serverError)})};window.loadChartProductionManagedWasteByWasteId=function(i){var r,h,c,l,a,v,y,f,o,u,e,p,s,w,b;for(r='YekanNumbers, IRANSansdn, "Helvetica Neue", Helvetica, Arial, sans-serif',f=[],u=0;u<i.length*2;u++)e="rgb("+window.getRandomInt(100,200)+", "+window.getRandomInt(100,200)+", "+window.getRandomInt(100,200)+")",f.push(e);for(o=[],u=0;u<i.length*2;u++)e="rgb("+window.getRandomInt(100,200)+", "+window.getRandomInt(100,200)+", "+window.getRandomInt(100,200)+")",o.push(e);dataBar={datasets:[]};i.forEach(function(n,t){dataBar.datasets.push({backgroundColor:f[t],data:[n.productionWasteAmount],label:[n.info],fill:!1});dataBar.datasets.push({backgroundColor:o[t],data:[n.managedWasteAmount],label:[n.info],fill:!1})});p=new Date;s="[تاریخ : "+p.echoFa("l، j F Y - H:i")+"]";l={maintainAspectRatio:!1,spanGaps:!1,responsive:!0,hoverMode:"index",stacked:!1,elements:{line:{tension:1e-6}},tooltips:{enabled:!0,mode:"index",intersect:!1},title:{display:!0,text:["گزارش نموداری مقدار پسماند تولید شده و مدیریت شده-نام پسماند",s],fontFamily:r,fontSize:14},legend:{display:!0,labels:{fontFamily:r}},scales:{xAxes:[{display:!0,scaleLabel:{display:!0,labelString:"تاریخ"},beginAtZero:!0,ticks:{autoSkip:!1}}],yAxes:[{display:!0,scaleLabel:{display:!0,labelString:"مقدار پسماند("+$(".graphicalProductionManagedWasteByWasteIdReport-list #CalculateType option:selected").text()+")"}}]}};a=document.getElementById("chart-graphicalProductionManagedWasteByWasteIdReport");t=new Chart(a,{type:"bar",data:dataBar,options:l});w={maintainAspectRatio:!1,spanGaps:!1,responsive:!0,stacked:!1,tooltips:{enabled:!0,mode:"index",intersect:!1,custom:window.chartjsTooltips},title:{display:!0,text:["تولید شده",s],fontFamily:r,fontSize:14},legend:{display:!0,labels:{fontFamily:r}},plugins:{datalabels:{formatter:(n,t)=>{let i=0,u=t.chart.data.datasets[0].data;u.map(n=>{i+=n});let r=0;return i!==0&&(r=(n*100/i).toFixed(2)+"%"),r},color:"black"}}};b={maintainAspectRatio:!1,spanGaps:!1,responsive:!0,stacked:!1,tooltips:{enabled:!0,mode:"index",intersect:!1,custom:window.chartjsTooltips},title:{display:!0,text:["مدیریت شده",s],fontFamily:r,fontSize:14},legend:{display:!0,labels:{fontFamily:r}},plugins:{datalabels:{formatter:(n,t)=>{let i=0,u=t.chart.data.datasets[0].data;u.map(n=>{i+=n});let r=0;return i!==0&&(r=(n*100/i).toFixed(2)+"%"),r},color:"black"}}};h={labels:_.union(_.pluck(i,"info")),datasets:[{backgroundColor:f,data:_.pluck(i,"productionWasteAmount"),label:"مقدار پسماند تولید شده",fill:!1}]};c={labels:_.union(_.pluck(i,"info")),datasets:[{backgroundColor:o,data:_.pluck(i,"managedWasteAmount"),label:"مقدار پسماند مدیریت شده",fill:!1}]};v=document.getElementById("chart-graphicalProductionManagedWasteByWasteIdReportProductionPieChart");y=document.getElementById("chart-graphicalProductionManagedWasteByWasteIdReportManagedPieChart");n=new Chart(v,{type:"pie",data:h,options:w});n=new Chart(y,{type:"pie",data:c,options:b});$(".export-chart").css("display","block")};$(document).on("change",".graphicalManagementTypeInSpecialPeriodReport-list #WasteManagementTypeIdList",function(){var n,t;t=[];n=$(this);t=n.val();$(".graphicalManagementTypeInSpecialPeriodReport-list #WasteManagementTypeIdList option:not(.selected)").prop("disabled",!1);n.selectpicker("refresh");t.includes("0")?(t=[],t.push(["0"]),n.val(t),$(".graphicalManagementTypeInSpecialPeriodReport-list #WasteManagementTypeIdList option:not(.selected)").prop("disabled",!0),$(".graphicalManagementTypeInSpecialPeriodReport-list #WasteManagementTypeIdList option[value='0']").prop("disabled",!1),n.selectpicker("refresh")):($(".graphicalManagementTypeInSpecialPeriodReport-list #WasteManagementTypeIdList option:not(.selected)").prop("disabled",!1),n.selectpicker("refresh"))});window.evacGraphicalManagementTypeInSpecialPeriodReportAdditionalParams=function(){return{subordinateCorporationId:$(".graphicalManagementTypeInSpecialPeriodReport-list #SubordinateCorporationId").val(),holdingsIdList:$(".graphicalManagementTypeInSpecialPeriodReport-list #HoldingsIdList").val(),mainCorporationIdList:$(".graphicalManagementTypeInSpecialPeriodReport-list #MainCorporationsIdList").val(),subCorporationsIdList:$(".graphicalManagementTypeInSpecialPeriodReport-list #SubCorporationsIdList").val(),wasteManagementMethodId:$(".graphicalManagementTypeInSpecialPeriodReport-list #WasteManagementMethodId").val(),wasteManagementTypeIdList:$(".graphicalManagementTypeInSpecialPeriodReport-list #WasteManagementTypeIdList").val(),fromDateLocal:$(".graphicalManagementTypeInSpecialPeriodReport-list #FromDateLocal").val(),toDateLocal:$(".graphicalManagementTypeInSpecialPeriodReport-list #ToDateLocal").val(),calculateType:$(".graphicalManagementTypeInSpecialPeriodReport-list #CalculateType").val()}};window.graphicalManagementTypeInSpecialPeriodReport=function(){var u,r;r={};u="evacGraphicalManagementTypeInSpecialPeriodReportAdditionalParams";u!=null&&(r=$.extend({},window.execFunc(u,window),r));window.dataParams!=null&&(r=$.extend({},window.dataParams(),r));r.__RequestVerificationToken=$("input[name=__RequestVerificationToken]").val();$.ajax({type:"post",url:window.$table.data("url"),data:r,cache:!1}).done(function(r){var f,u;if(i(),r.resultStatus!=="Successful"&&r.resultStatus!=="DataNotFound"){toastr.error((f=r.message)!=null?f:resource.exception.loadError);return}window.$table.bootstrapTable("removeAll");u=[];$.each(r.data,function(n,t){t.rowNumber=1+n});_.each(r.data,function(n){u.push({rowNumber:n.rowNumber,wasteManagementMethodTitle:n.wasteManagementMethodTitle,wasteManagementTypeTitle:n.wasteManagementTypeTitle,wasteAmount:n.wasteAmount,calculateTypeTitle:$(".graphicalManagementTypeInSpecialPeriodReport-list #CalculateType option:selected").text()})});window.$table.bootstrapTable("load",u);t!=null&&t.destroy();n!=null&&n.destroy();window.loadChartManagementTypeInSpecialPeriod(r.data)}).fail(function(n){toastr.error(n.status===403?resource.exception.forbidden:resource.exception.serverError)})};window.loadChartManagementTypeInSpecialPeriod=function(i){var r,f,s,h,c,l,u,e,a,v,o,y;for(r='YekanNumbers, IRANSansdn, "Helvetica Neue", Helvetica, Arial, sans-serif',u=[],e=0;e<i.length;e++)a="rgb("+window.getRandomInt(100,200)+", "+window.getRandomInt(100,200)+", "+window.getRandomInt(100,200)+")",u.push(a);f={datasets:[]};i.forEach(function(n,t){f.datasets.push({backgroundColor:u[t],data:[n.wasteAmount],label:[n.info],fill:!1})});s={labels:_.union(_.pluck(i,"info")),datasets:[{backgroundColor:u,data:_.pluck(i,"wasteAmount"),label:"مقدار پسماند",fill:!1}]};v=new Date;o="[تاریخ : "+v.echoFa("l، j F Y - H:i")+"]";h={maintainAspectRatio:!1,spanGaps:!1,responsive:!0,hoverMode:"index",stacked:!1,elements:{line:{tension:1e-6}},tooltips:{enabled:!1,mode:"index",intersect:!1,custom:window.chartjsTooltips},title:{display:!0,text:["گزارش نموداری روش های دفع پسماند در بازه زمانی مشخص",o],fontFamily:r,fontSize:14},legend:{display:!0,labels:{fontFamily:r}},scales:{xAxes:[{display:!0,scaleLabel:{display:!0,labelString:"تاریخ"},beginAtZero:!0,ticks:{autoSkip:!1}}],yAxes:[{display:!0,scaleLabel:{display:!0,labelString:"مقدار پسماند("+$(".graphicalManagementTypeInSpecialPeriodReport-list #CalculateType option:selected").text()+")"}}]}};c=document.getElementById("chart-graphicalManagementTypeInSpecialPeriodReport");t=new Chart(c,{type:"bar",data:f,options:h});y={maintainAspectRatio:!1,spanGaps:!1,responsive:!0,stacked:!1,tooltips:{enabled:!1,mode:"index",intersect:!1,custom:window.chartjsTooltips},title:{display:!0,text:["گزارش نموداری روش های دفع پسماند در بازه زمانی مشخص",o],fontFamily:r,fontSize:14},legend:{display:!0,labels:{fontFamily:r}},plugins:{datalabels:{formatter:(n,t)=>{let i=0,r=t.chart.data.datasets[0].data;r.map(n=>{i+=parseFloat(n,2)});let u=(n*100/i).toFixed(2);return u.toString().replace(/\.0+$/,"")+"%"},color:"black"}}};l=document.getElementById("chart-graphicalManagementTypeInSpecialPeriodReportPieChart");n=new Chart(l,{type:"pie",data:s,options:y});$(".export-chart").css("display","block")};$(document).on("change",".graphicalManagementTypeInSpecialPeriodByWasteIdReport-list #WasteManagementTypeIdList",function(){var n,t;t=[];n=$(this);t=n.val();$(".graphicalManagementTypeInSpecialPeriodByWasteIdReport-list #WasteManagementTypeIdList option:not(.selected)").prop("disabled",!1);n.selectpicker("refresh");t.includes("0")?(t=[],t.push(["0"]),n.val(t),$(".graphicalManagementTypeInSpecialPeriodByWasteIdReport-list #WasteManagementTypeIdList option:not(.selected)").prop("disabled",!0),$(".graphicalManagementTypeInSpecialPeriodByWasteIdReport-list #WasteManagementTypeIdList option[value='0']").prop("disabled",!1),n.selectpicker("refresh")):($(".graphicalManagementTypeInSpecialPeriodByWasteIdReport-list #WasteManagementTypeIdList option:not(.selected)").prop("disabled",!1),n.selectpicker("refresh"))});$(document).on("change",".graphicalManagementTypeInSpecialPeriodByWasteIdReport-list #WasteId",function(){var r,i,n,t;if(r=$(this),i=r.val(),n=$(".graphicalManagementTypeInSpecialPeriodByWasteIdReport-list #WasteManagementMethodId"),t=$(".graphicalManagementTypeInSpecialPeriodByWasteIdReport-list #WasteManagementTypeIdList"),i==null||i===""){n.html("");t.html("");n.selectpicker("refresh");t.selectpicker("refresh");return}$.ajax({type:"POST",url:r.data("url"),data:{wasteId:i,__RequestVerificationToken:$("input[name=__RequestVerificationToken]").val()}}).done(function(i){n.html("");t.html("");n.append("<option value=''><\/option>");n.append("<option value='0'>همه<\/option>");_.each(i.methods.data,function(t){n.append("<option value='"+t.wasteManagementMethodId+"'>"+t.title+"<\/option>")});t.append("<option value='-100'>همه<\/option>");_.each(i.types.data,function(n){t.append("<option value='"+n.wasteManagementTypeId+"'>"+n.title+"<\/option>")});n.selectpicker("refresh").trigger("change");t.selectpicker("refresh").trigger("change")})});window.evacGraphicalManagementTypeInSpecialPeriodByWasteIdReportAdditionalParams=function(){return{subordinateCorporationId:$(".graphicalManagementTypeInSpecialPeriodByWasteIdReport-list #SubordinateCorporationId").val(),holdingsIdList:$(".graphicalManagementTypeInSpecialPeriodByWasteIdReport-list #HoldingsIdList").val(),mainCorporationIdList:$(".graphicalManagementTypeInSpecialPeriodByWasteIdReport-list #MainCorporationsIdList").val(),subCorporationsIdList:$(".graphicalManagementTypeInSpecialPeriodByWasteIdReport-list #SubCorporationsIdList").val(),wasteId:$(".graphicalManagementTypeInSpecialPeriodByWasteIdReport-list #WasteId").val(),wasteManagementMethodId:$(".graphicalManagementTypeInSpecialPeriodByWasteIdReport-list #WasteManagementMethodId").val(),wasteManagementTypeIdList:$(".graphicalManagementTypeInSpecialPeriodByWasteIdReport-list #WasteManagementTypeIdList").val(),fromDateLocal:$(".graphicalManagementTypeInSpecialPeriodByWasteIdReport-list #FromDateLocal").val(),toDateLocal:$(".graphicalManagementTypeInSpecialPeriodByWasteIdReport-list #ToDateLocal").val(),calculateType:$(".graphicalManagementTypeInSpecialPeriodByWasteIdReport-list #CalculateType").val()}};window.graphicalManagementTypeInSpecialPeriodByWasteIdReport=function(){var u,r,f,e,o,s,h;r={};u="evacGraphicalManagementTypeInSpecialPeriodByWasteIdReportAdditionalParams";u!=null&&(r=$.extend({},window.execFunc(u,window),r));window.dataParams!=null&&(r=$.extend({},window.dataParams(),r));r.__RequestVerificationToken=$("input[name=__RequestVerificationToken]").val();$.ajax({type:"post",url:window.$table.data("url"),data:r,cache:!1}).done(function(r){var c,u;if(i(),r.resultStatus!=="Successful"&&r.resultStatus!=="DataNotFound"){toastr.error((c=r.message)!=null?c:resource.exception.loadError);return}window.$table.bootstrapTable("removeAll");u=[];f=$(".graphicalManagementTypeInSpecialPeriodByWasteIdReport-list #WasteManagementMethodId option:selected").text();e=$(".graphicalManagementTypeInSpecialPeriodByWasteIdReport-list #WasteId option:selected").text();o=$(".graphicalManagementTypeInSpecialPeriodByWasteIdReport-list #CalculateType option:selected").text();s=$(".graphicalManagementTypeInSpecialPeriodByWasteIdReport-list #FromDateLocal").val();h=$(".graphicalManagementTypeInSpecialPeriodByWasteIdReport-list #ToDateLocal").val();$.each(r.data,function(n,t){t.rowNumber=1+n;t.wasteManagementMethodTitle=="-"&&(t.wasteManagementMethodTitle=f);t.wasteTitle=="-"&&(t.wasteTitle=e)});_.each(r.data,function(n){u.push({rowNumber:n.rowNumber,wasteTitle:n.wasteTitle,wasteManagementMethodTitle:n.wasteManagementMethodTitle,wasteManagementTypeTitle:n.wasteManagementTypeTitle,wasteAmount:n.wasteAmount,calculateTypeTitle:o,info:e+" ,"+f+" ,"+n.wasteManagementTypeTitle+" ,"+n.wasteAmount+" "+o+" ,"+s+" ,"+h})});console.log(u);window.$table.bootstrapTable("load",u);t!=null&&t.destroy();n!=null&&n.destroy();window.loadChartManagementTypeInSpecialPeriodByWasteId(u)}).fail(function(n){toastr.error(n.status===403?resource.exception.forbidden:resource.exception.serverError)})};window.loadChartManagementTypeInSpecialPeriodByWasteId=function(i){var r,o,s,h,u,f,c,l,e,a;for(r='YekanNumbers, IRANSansdn, "Helvetica Neue", Helvetica, Arial, sans-serif',u=[],f=0;f<i.length;f++)c="rgb("+window.getRandomInt(100,200)+", "+window.getRandomInt(100,200)+", "+window.getRandomInt(100,200)+")",u.push(c);dataBar={datasets:[]};i.forEach(function(n,t){dataBar.datasets.push({backgroundColor:u[t],data:[n.wasteAmount],label:[n.info],fill:!1})});dataPie={labels:_.union(_.pluck(i,"info")),datasets:[{backgroundColor:u,data:_.pluck(i,"wasteAmount"),label:_.pluck(i,"info"),fill:!1}]};l=new Date;e="[تاریخ : "+l.echoFa("l، j F Y - H:i")+"]";o={maintainAspectRatio:!1,spanGaps:!1,responsive:!0,hoverMode:"index",stacked:!1,elements:{line:{tension:1e-6}},tooltips:{enabled:!1,mode:"index",intersect:!1,custom:window.chartjsTooltips},title:{display:!0,text:["گزارش نموداری روش های دفع پسماند - نام پسماند",e],fontFamily:r,fontSize:14},legend:{display:!0,labels:{fontFamily:r}},scales:{xAxes:[{display:!0,scaleLabel:{display:!0,labelString:"تاریخ"},beginAtZero:!0,ticks:{autoSkip:!1}}],yAxes:[{display:!0,scaleLabel:{display:!0,labelString:"مقدار پسماند("+$(".graphicalManagementTypeInSpecialPeriodByWasteIdReport-list #CalculateType option:selected").text()+")"}}]}};s=document.getElementById("chart-graphicalManagementTypeInSpecialPeriodByWasteIdReport");t=new Chart(s,{type:"bar",data:dataBar,options:o});a={maintainAspectRatio:!1,spanGaps:!1,responsive:!0,stacked:!1,tooltips:{enabled:!1,mode:"index",intersect:!1,custom:window.chartjsTooltips},title:{display:!0,text:["گزارش نموداری روش های دفع پسماند - نام پسماند",e],fontFamily:r,fontSize:14},legend:{display:!0,labels:{fontFamily:r}},plugins:{datalabels:{formatter:(n,t)=>{let i=0,r=t.chart.data.datasets[0].data;r.map(n=>{i+=n});let u=(n*100/i).toFixed(2);return u.toString().replace(/\.0+$/,"")+"%"},color:"black"}}};h=document.getElementById("chart-graphicalManagementTypeInSpecialPeriodByWasteIdReportPieChart");n=new Chart(h,{type:"pie",data:dataPie,options:a});$(".export-chart").css("display","block")};window.evacGraphicalUnitProductionWasteByDangerCodeIdReportAdditionalParams=function(){return{subordinateCorporationId:$(".graphicalUnitProductionWasteByDangerCodeIdReport-list #SubordinateCorporationId").val(),holdingsIdList:$(".graphicalUnitProductionWasteByDangerCodeIdReport-list #HoldingsIdList").val(),mainCorporationIdList:$(".graphicalUnitProductionWasteByDangerCodeIdReport-list #MainCorporationsIdList").val(),subCorporationsIdList:$(".graphicalUnitProductionWasteByDangerCodeIdReport-list #SubCorporationsIdList").val(),dangerCodeIdList:$(".graphicalUnitProductionWasteByDangerCodeIdReport-list #DangerCodeIdList").val(),fromDateLocal:$(".graphicalUnitProductionWasteByDangerCodeIdReport-list #FromDateLocal").val(),toDateLocal:$(".graphicalUnitProductionWasteByDangerCodeIdReport-list #ToDateLocal").val(),calculateType:$(".graphicalUnitProductionWasteByDangerCodeIdReport-list #CalculateType").val()}};window.graphicalUnitProductionWasteByDangerCodeIdReport=function(){var u,r;r={};u="evacGraphicalUnitProductionWasteByDangerCodeIdReportAdditionalParams";u!=null&&(r=$.extend({},window.execFunc(u,window),r));window.dataParams!=null&&(r=$.extend({},window.dataParams(),r));r.__RequestVerificationToken=$("input[name=__RequestVerificationToken]").val();$.ajax({type:"post",url:window.$table.data("url"),data:r,cache:!1}).done(function(r){var f,u;if(i(),r.resultStatus!=="Successful"&&r.resultStatus!=="DataNotFound"){toastr.error((f=r.message)!=null?f:resource.exception.loadError);return}window.$table.bootstrapTable("removeAll");u=[];$.each(r.data,function(n,t){t.rowNumber=1+n});_.each(r.data,function(n){u.push({rowNumber:n.rowNumber,dangerCode:n.dangerCode,wasteAmount:n.wasteAmount,calculateTypeTitle:$(".graphicalUnitProductionWasteByDangerCodeIdReport-list #CalculateType option:selected").text()})});window.$table.bootstrapTable("load",u);t!=null&&t.destroy();n!=null&&n.destroy();window.loadChartUnitProductionWasteDangerCode(r.data)}).fail(function(n){toastr.error(n.status===403?resource.exception.forbidden:resource.exception.serverError)})};window.loadChartUnitProductionWasteDangerCode=function(i){var r,o,s,h,u,f,c,l,e,a;for(r='YekanNumbers, IRANSansdn, "Helvetica Neue", Helvetica, Arial, sans-serif',u=[],f=0;f<i.length;f++)c="rgb("+window.getRandomInt(100,200)+", "+window.getRandomInt(100,200)+", "+window.getRandomInt(100,200)+")",u.push(c);dataBar={datasets:[]};i.forEach(function(n,t){dataBar.datasets.push({backgroundColor:u[t],data:[n.wasteAmount],label:[n.info],fill:!1})});dataPie={labels:_.union(_.pluck(i,"info")),datasets:[{backgroundColor:u,data:_.pluck(i,"wasteAmount"),label:_.pluck(i,"info"),fill:!1}]};l=new Date;e="[تاریخ : "+l.echoFa("l، j F Y - H:i")+"]";o={maintainAspectRatio:!1,spanGaps:!1,responsive:!0,stacked:!1,elements:{line:{tension:1e-6}},tooltips:{enabled:!1,mode:"index",intersect:!1,custom:window.chartjsTooltips},title:{display:!0,text:["گزارش نموداری مقدار پسماند تولیدی - کد خطر",e],fontFamily:r,fontSize:14},legend:{labels:{fontFamily:r},display:!0},scales:{xAxes:[{display:!0,scaleLabel:{display:!0,labelString:"کد خطر"},beginAtZero:!0,ticks:{autoSkip:!1}}],yAxes:[{display:!0,scaleLabel:{display:!0,labelString:"مقدار پسماند("+$(".graphicalUnitProductionWasteByDangerCodeIdReport-list #CalculateType option:selected").text()+")"}}]}};s=document.getElementById("chart-graphicalUnitProductionWasteByDangerCodeIdReport");t=new Chart(s,{type:"bar",data:dataBar,options:o});a={maintainAspectRatio:!1,spanGaps:!1,responsive:!0,stacked:!1,tooltips:{enabled:!1,mode:"index",intersect:!1,custom:window.chartjsTooltips},title:{display:!0,text:["گزارش نموداری مقدار پسماند تولیدی - کد خطر",e],fontFamily:r,fontSize:14},legend:{display:!0,labels:{fontFamily:r}},plugins:{datalabels:{formatter:(n,t)=>{let i=0,r=t.chart.data.datasets[0].data;r.map(n=>{i+=n});return(n*100/i).toFixed(2)+"%"},color:"black"}}};h=document.getElementById("chart-graphicalUnitProductionWasteByDangerCodeIdReportPieChart");n=new Chart(h,{type:"pie",data:dataPie,options:a});$(".export-chart").css("display","block")};$(document).on("change",".graphicalUnitDischargeWasteSupplyWasteTypeReport-list #ReportPeriodId",function(){var t,n;(t=$(this),n=t.val(),n!=null&&n!=="")&&$.ajax({type:"POST",url:t.data("url"),data:{reportPeriodId:n,__RequestVerificationToken:$("input[name=__RequestVerificationToken]").val()}}).done(function(n){var t=$(".graphicalUnitDischargeWasteSupplyWasteTypeReport-list #PeriodId");n!=null&&(t.html(""),_.each(n.data,function(n){t.append("<option value='"+n.periodId+"'>"+n.title+"<\/option>")}),t.selectpicker("refresh"))})});window.evacGraphicalUnitDischargeWasteSupplyWasteTypeReportAdditionalParams=function(){return{subordinateCorporationId:$(".graphicalUnitDischargeWasteSupplyWasteTypeReport-list #SubordinateCorporationId").val(),holdingsIdList:$(".graphicalUnitDischargeWasteSupplyWasteTypeReport-list #HoldingsIdList").val(),mainCorporationIdList:$(".graphicalUnitDischargeWasteSupplyWasteTypeReport-list #MainCorporationsIdList").val(),subCorporationsIdList:$(".graphicalUnitDischargeWasteSupplyWasteTypeReport-list #SubCorporationsIdList").val(),dischargeId:$(".graphicalUnitDischargeWasteSupplyWasteTypeReport-list #DischargeId").val(),wasteTypeIdList:$(".graphicalUnitDischargeWasteSupplyWasteTypeReport-list #WasteTypeId").val(),toDateLocal:$(".graphicalUnitDischargeWasteSupplyWasteTypeReport-list #ToDateLocal").val(),calculateType:$(".graphicalUnitDischargeWasteSupplyWasteTypeReport-list #CalculateType").val()}};window.graphicalUnitDischargeWasteSupplyWasteTypeReport=function(){var u,r;r={};u="evacGraphicalUnitDischargeWasteSupplyWasteTypeReportAdditionalParams";u!=null&&(r=$.extend({},window.execFunc(u,window),r));window.dataParams!=null&&(r=$.extend({},window.dataParams(),r));r.__RequestVerificationToken=$("input[name=__RequestVerificationToken]").val();$.ajax({type:"post",url:window.$table.data("url"),data:r,cache:!1}).done(function(r){var f,u;if(i(),r.resultStatus!=="Successful"&&r.resultStatus!=="DataNotFound"){toastr.error((f=r.message)!=null?f:resource.exception.loadError);return}window.$table.bootstrapTable("removeAll");u=[];r&&r.data&&(_.each(r.data,function(n){u.push({rowNumber:0,dischargeTitle:n.dischargeTitle,wasteTypeTitle:n.wasteTypeTitle,totalSupply:n.totalSupply,calculateTypeTitle:n.calculateTypeTitle})}),$.each(u,function(n,t){t.rowNumber=1+n}));window.$table.bootstrapTable("load",u);t!=null&&t.destroy();n!=null&&n.destroy();window.loadChartUnitDischargeWasteSupplyWasteType(r.data||[])}).fail(function(n){toastr.error(n.status===403?resource.exception.forbidden:resource.exception.serverError)})};window.loadChartUnitDischargeWasteSupplyWasteType=function(i){var r,s,f,h,c,l,u,e,a,v,o,y;for(r='YekanNumbers, IRANSansdn, "Helvetica Neue", Helvetica, Arial, sans-serif',u=[],e=0;e<i.length;e++)a="rgb("+window.getRandomInt(100,200)+", "+window.getRandomInt(100,200)+", "+window.getRandomInt(100,200)+")",u.push(a);s={labels:_.union(_.pluck(i,"info")),datasets:[{backgroundColor:u,data:_.pluck(i,"totalSupply"),label:"مقدار پسماند",fill:!1}]};f={datasets:[]};i.forEach(function(n,t){f.datasets.push({backgroundColor:u[t],data:[n.totalSupply],label:[n.info],fill:!1})});v=new Date;o="[تاریخ : "+v.echoFa("l، j F Y - H:i")+"]";h={maintainAspectRatio:!1,spanGaps:!1,responsive:!0,hoverMode:"index",stacked:!1,elements:{line:{tension:1e-6}},tooltips:{enabled:!1,mode:"index",intersect:!1,custom:window.chartjsTooltips},title:{display:!0,text:["گزارش نموداری موجودی نهایی ایستگاه های نگهداری/دفع- ماهیت پسماند",o],fontFamily:r,fontSize:14},legend:{display:!0,labels:{fontFamily:r}},scales:{xAxes:[{display:!0,scaleLabel:{display:!0,labelString:"ماهیت پسماند"},beginAtZero:!0,ticks:{autoSkip:!1}}],yAxes:[{display:!0,scaleLabel:{display:!0,labelString:"مقدار پسماند("+$(".graphicalUnitDischargeWasteSupplyWasteTypeReport-list #CalculateType option:selected").text()+")"}}]}};c=document.getElementById("chart-graphicalUnitDischargeWasteSupplyWasteTypeReport");t=new Chart(c,{type:"bar",data:f,options:h});y={maintainAspectRatio:!1,spanGaps:!1,responsive:!0,stacked:!1,tooltips:{enabled:!1,mode:"index",intersect:!1,custom:window.chartjsTooltips},title:{display:!0,text:["گزارش نموداری موجودی نهایی ایستگاه های نگهداری/دفع- ماهیت پسماند",o],fontFamily:r,fontSize:14},legend:{display:!0,labels:{fontFamily:r}},plugins:{datalabels:{formatter:(n,t)=>{let i=0,r=t.chart.data.datasets[0].data;r.map(n=>{i+=n});return(n*100/i).toFixed(2)+"%"},color:"black"}}};l=document.getElementById("chart-graphicalUnitDischargeWasteSupplyWasteTypeReportPieChart");n=new Chart(l,{type:"pie",data:s,options:y});$(".export-chart").css("display","block")};window.evacGraphicalInputWasteAmountReportAdditionalParams=function(){return{subordinateCorporationId:$(".graphicalInputWasteAmountReport-list #SubordinateCorporationId").val(),holdingsIdList:$(".graphicalInputWasteAmountReport-list #HoldingsIdList").val(),mainCorporationIdList:$(".graphicalInputWasteAmountReport-list #MainCorporationsIdList").val(),subCorporationsIdList:$(".graphicalInputWasteAmountReport-list #SubCorporationsIdList").val(),wasteId:$(".graphicalInputWasteAmountReport-list #WasteId").val(),inputWasteSourceIdList:$(".graphicalInputWasteAmountReport-list #InputWasteSourceIdList").val(),fromDateLocal:$(".graphicalInputWasteAmountReport-list #FromDateLocal").val(),toDateLocal:$(".graphicalInputWasteAmountReport-list #ToDateLocal").val(),calculateType:$(".graphicalInputWasteAmountReport-list #CalculateType").val()}};window.graphicalInputWasteAmountReport=function(){var u,r;r={};u="evacGraphicalInputWasteAmountReportAdditionalParams";u!=null&&(r=$.extend({},window.execFunc(u,window),r));window.dataParams!=null&&(r=$.extend({},window.dataParams(),r));r.__RequestVerificationToken=$("input[name=__RequestVerificationToken]").val();$.ajax({type:"post",url:window.$table.data("url"),data:r,cache:!1}).done(function(r){var f,u;if(i(),r.resultStatus!=="Successful"&&r.resultStatus!=="DataNotFound"){toastr.error((f=r.message)!=null?f:resource.exception.loadError);return}window.$table.bootstrapTable("removeAll");u=[];_.each(r.data,function(n){u.push({rowNumber:0,wasteTitle:n.wasteTitle,inputWasteSourceTitle:n.inputWasteSourceTitle,wasteAmount:n.wasteAmount,calculateTypeTitle:n.calculateTypeTitle})});$.each(u,function(n,t){t.rowNumber=1+n});window.$table.bootstrapTable("load",u);t!=null&&t.destroy();n!=null&&n.destroy();window.loadChartGraphicalInputWasteAmount(r.data)}).fail(function(n){toastr.error(n.status===403?resource.exception.forbidden:resource.exception.serverError)})};window.loadChartGraphicalInputWasteAmount=function(i){var r,s,f,h,c,l,u,e,a,v,o,y;for(r='YekanNumbers, IRANSansdn, "Helvetica Neue", Helvetica, Arial, sans-serif',u=[],e=0;e<i.length;e++)a="rgb("+window.getRandomInt(100,200)+", "+window.getRandomInt(100,200)+", "+window.getRandomInt(100,200)+")",u.push(a);s={labels:_.union(_.pluck(i,"info")),datasets:[{backgroundColor:u,data:_.pluck(i,"wasteAmount"),label:"مقدار پسماند",fill:!1}]};f={datasets:[]};i.forEach(function(n,t){f.datasets.push({backgroundColor:u[t],data:[n.wasteAmount],label:[n.info],fill:!1})});v=new Date;o="[تاریخ : "+v.echoFa("l، j F Y - H:i")+"]";h={maintainAspectRatio:!1,spanGaps:!1,responsive:!0,hoverMode:"index",stacked:!1,elements:{line:{tension:1e-6}},tooltips:{enabled:!1,mode:"index",intersect:!1,custom:window.chartjsTooltips},title:{display:!0,text:["گزارش نموداری مقدار پسماند ورودی به مجموعه",o],fontFamily:r,fontSize:14},legend:{display:!0,labels:{fontFamily:r}},scales:{xAxes:[{display:!0,scaleLabel:{display:!0,labelString:"منبع پسماند ورودی به مجموعه"},beginAtZero:!0,ticks:{autoSkip:!1}}],yAxes:[{display:!0,scaleLabel:{display:!0,labelString:"مقدار پسماند("+$(".graphicalInputWasteAmountReport-list #CalculateType option:selected").text()+")"}}]}};c=document.getElementById("chart-graphicalInputWasteAmountReport");t=new Chart(c,{type:"bar",data:f,options:h});y={maintainAspectRatio:!1,spanGaps:!1,responsive:!0,stacked:!1,tooltips:{enabled:!1,mode:"index",intersect:!1,custom:window.chartjsTooltips},title:{display:!0,text:["گزارش نموداری مقدار پسماند ورودی به مجموعه",o],fontFamily:r,fontSize:14},legend:{display:!0,labels:{fontFamily:r}},plugins:{datalabels:{formatter:(n,t)=>{let i=0,r=t.chart.data.datasets[0].data;r.map(n=>{i+=n});return(n*100/i).toFixed(2)+"%"},color:"black"}}};l=document.getElementById("chart-graphicalInputWasteAmountReportPieChart");n=new Chart(l,{type:"pie",data:s,options:y});$(".export-chart").css("display","block")}}.call(this),function(){var n,t;n=function(n){return toastr.options.tapToDismiss=n===void 0?!0:n,toastr.options.preventDuplicates=!1,toastr.options.closeButton=!1,toastr.options.timeOut="5000",toastr.options.extendedTimeOut="1000"};t=function(n){return toastr.options.tapToDismiss=n===void 0?!0:n,toastr.options.preventDuplicates=!1,toastr.options.closeButton=!0,toastr.options.timeOut="0",toastr.options.extendedTimeOut="0"};$(document).on("click",".account-adminSignIn .btnLogin",function(){var i,r;i=$(this);r=i.closest("form");i.prop("disabled",!0);$.ajax({method:"POST",data:new FormData(r.get(0)),processData:!1,contentType:!1,cache:!1}).done(function(t){var i;if(n(),t.resultStatus!=="Successful"){toastr.error((i=t.message)!=null?i:"متاسفانه ورود با خطا مواجه شد");$(".refresh-captcha").trigger("click");r.get(0).reset();return}toastr.success("ورود شما با موفقیت انجام شد");window.location="/Account/Index"}).always(function(){$(".refresh-captcha").trigger("click");i.prop("disabled",!1);t()});return});$(document).on("click","a.logOff",function(){return $("#singoutForm").submit()});$(document).on("click","a.btnChangePass",function(){var i,r;i=$(this);r=i.closest("form");i.prop("disabled",!0);$.ajax({method:"POST",data:new FormData(r.get(0)),processData:!1,contentType:!1,cache:!1}).done(function(t){var i;if(n(),t.resultStatus!=="Successful"){toastr.error((i=t.message)!=null?i:"متاسفانه ذخیره با خطا مواجه شد");r.get(0).reset();return}toastr.success("رمز عبور شما با موفقیت تغییر یافت");location.reload()}).always(function(){$(".refresh-captcha").trigger("click");i.prop("disabled",!1);t()});return})}.call(this);